<!DOCTYPE html>
<html lang="English">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CLI taskview | TaskView</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="./images/logo.png">
    <meta name="description" content="docs descr">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/task_view_doc/assets/css/0.styles.40a5a967.css" as="style"><link rel="preload" href="/task_view_doc/assets/js/app.6d2b6f44.js" as="script"><link rel="preload" href="/task_view_doc/assets/js/2.e3978535.js" as="script"><link rel="preload" href="/task_view_doc/assets/js/20.ba0e8359.js" as="script"><link rel="prefetch" href="/task_view_doc/assets/js/10.a8dc7fb5.js"><link rel="prefetch" href="/task_view_doc/assets/js/11.644396ef.js"><link rel="prefetch" href="/task_view_doc/assets/js/12.1ccdeb59.js"><link rel="prefetch" href="/task_view_doc/assets/js/13.a15819bc.js"><link rel="prefetch" href="/task_view_doc/assets/js/14.3134a5bb.js"><link rel="prefetch" href="/task_view_doc/assets/js/15.67f21914.js"><link rel="prefetch" href="/task_view_doc/assets/js/16.ef7f619b.js"><link rel="prefetch" href="/task_view_doc/assets/js/17.2e5eb7d3.js"><link rel="prefetch" href="/task_view_doc/assets/js/18.bba548f8.js"><link rel="prefetch" href="/task_view_doc/assets/js/19.c0d091c5.js"><link rel="prefetch" href="/task_view_doc/assets/js/21.d8799d07.js"><link rel="prefetch" href="/task_view_doc/assets/js/22.de2d6ab5.js"><link rel="prefetch" href="/task_view_doc/assets/js/23.d5f2f9b8.js"><link rel="prefetch" href="/task_view_doc/assets/js/24.e1e75cdd.js"><link rel="prefetch" href="/task_view_doc/assets/js/3.a1bb1a2f.js"><link rel="prefetch" href="/task_view_doc/assets/js/4.e27a7f7a.js"><link rel="prefetch" href="/task_view_doc/assets/js/5.e9f4081f.js"><link rel="prefetch" href="/task_view_doc/assets/js/6.c7b54f12.js"><link rel="prefetch" href="/task_view_doc/assets/js/7.81b258a5.js"><link rel="prefetch" href="/task_view_doc/assets/js/8.7f1a1ff9.js"><link rel="prefetch" href="/task_view_doc/assets/js/9.effed064.js">
    <link rel="stylesheet" href="/task_view_doc/assets/css/0.styles.40a5a967.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/task_view_doc/" class="home-link router-link-active"><img src="/task_view_doc/images/logo.png" alt="TaskView" class="logo"> <span class="site-name can-hide">TaskView</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/task_view_doc/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/task_view_doc/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="/task_view_doc/blog/" class="nav-link">
  Blog
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/task_view_doc/guide/" class="nav-link router-link-active">
  Guide
</a></div><div class="nav-item"><a href="/task_view_doc/config/" class="nav-link">
  Config
</a></div><div class="nav-item"><a href="/task_view_doc/blog/" class="nav-link">
  Blog
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Guide</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/task_view_doc/guide/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/task_view_doc/guide/installation.html" class="sidebar-link">Installation</a></li><li><a href="/task_view_doc/guide/directory-structure.html" class="sidebar-link">Directory Structure</a></li><li><a href="/task_view_doc/guide/config.html" class="sidebar-link">Configuration</a></li><li><a href="/task_view_doc/guide/build-from-source.html" class="sidebar-link">Build</a></li><li><a href="/task_view_doc/guide/cli-taskview.html" aria-current="page" class="active sidebar-link">CLI taskview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/task_view_doc/guide/cli-taskview.html#updating-taskview" class="sidebar-link">Updating TaskView</a></li><li class="sidebar-sub-header"><a href="/task_view_doc/guide/cli-taskview.html#private-settings-file" class="sidebar-link">Private settings file</a></li></ul></li><li><a href="/task_view_doc/guide/admins.html" class="sidebar-link">Administrators</a></li><li><a href="/task_view_doc/guide/change-log.html" class="sidebar-link">Change log</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cli-taskview"><a href="#cli-taskview" class="header-anchor">#</a> CLI taskview</h1> <p>Application have CLI script <code>taskview</code>, you can find this script in <code>/app/sql/migrations/taskview</code>. Script taskview
support next commands</p> <ul><li><code>--create</code> - this command create base structure for application database. Use this command first time for creating
database structure.</li> <li><code>--update</code> - this command update database structure for latest version. Use this command for upgrading database.</li> <li><code>--get-password</code> - this command helps you generate password hash for password.</li> <li><code>--setup</code> - this command helps you update your project</li></ul> <div class="custom-block tip"><p class="custom-block-title">Running `taskview` script</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#Create database structure in database</span>
$ php taskview --cteate

<span class="token comment">#Update database structure with latest scripts</span>
$ php taskview --update

<span class="token comment">#Generate hash for given password</span>
$ php taskview --get-password

<span class="token comment">#Update project</span>
$ php taskview --setup /path/to/private/config/file.json
</code></pre></div></div> <h2 id="updating-taskview"><a href="#updating-taskview" class="header-anchor">#</a> Updating TaskView</h2> <p>If you have installed TaskView you need sometimes install updates how to quickly update read bellow.</p> <ul><li>In private directory create <code>taskview.prod.json</code></li> <li>Add private configuration to created <code>taskview.prod.json</code> file</li> <li>Run <code>php taskview --setup /path/to/private/config/taskview.prod.json</code></li> <li>That is all</li></ul> <h2 id="private-settings-file"><a href="#private-settings-file" class="header-anchor">#</a> Private settings file</h2> <p>For TaskView you need add some private data to the configuration, when you update project you must add them again. For
solving this problem was created <code>--setup</code> command. You should prepare especially config file for using this command.</p> <h3 id="private-settings-file-structure"><a href="#private-settings-file-structure" class="header-anchor">#</a> Private settings file structure</h3> <p>Root element is object, key must be a <strong>module name</strong>, name are case-sensitive, value must contain config options . See
example below. Command <code>--setup</code>will set only changed configuration items in original config.</p> <h3 id="example"><a href="#example" class="header-anchor">#</a> Example</h3> <h4 id="db-original-options"><a href="#db-original-options" class="header-anchor">#</a> DB original options</h4> <div class="language-json extra-class"><div class="highlight-lines"><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;class&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ZXC\\Modules\\DB\\DB&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;defer&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;dsn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pgsql:host=localhost;dbname=task_view_server;options='--client_encoding=UTF8'&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;postgres&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;111111111&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="db-options-in-private-settings-file"><a href="#db-options-in-private-settings-file" class="header-anchor">#</a> DB options in private settings file</h4> <div class="language-json extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token comment">//...</span>
    <span class="token property">&quot;DB&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;dsn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pgsql:host=localhost;dbname=server_prod;options='--client_encoding=UTF8'&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;super_secret_db_user&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;super_secret_password&quot;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>

</code></pre></div><h4 id="full-example"><a href="#full-example" class="header-anchor">#</a> Full example</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;AppConfig&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;public&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;namespace&quot;</span><span class="token operator">:</span> <span class="token string">&quot;task_view&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;remindPasswordUrlTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://taskview.handscream.com/#/?resetCode={code}&amp;login={login}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;remindPasswordBodyTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;p&gt; Reset password! {link} &lt;/p&gt;&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;confirmEmailUrlTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://taskview.handscream.com/confirm/email/{code}/login/{login}&quot;</span><span class="token punctuation">,</span>
            <span class="token property">&quot;confirmEmailBodyTemplate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&lt;p&gt; Confirm email! {link} &lt;/p&gt;&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Auth&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;authTypeProviderOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;secret&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=1=1=1=1=1=1=1=1=&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token property">&quot;email&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">&quot;redirectAfterConfirm&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://taskview.handscream.com&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;DB&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;dsn&quot;</span><span class="token operator">:</span> <span class="token string">&quot;pgsql:host=localhost;dbname=server_prod;options='--client_encoding=UTF8'&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;db_user&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;+++++++++&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Logger&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;folder&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/taskview/app/log&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;Mail&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;smtp.you.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">465</span><span class="token punctuation">,</span>
        <span class="token property">&quot;username&quot;</span><span class="token operator">:</span> <span class="token string">&quot;you@domain.com&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;=-=-=-=-=-=-=-=&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;encryption&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ssl&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fromName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;TaskView&quot;</span><span class="token punctuation">,</span>
        <span class="token property">&quot;fromEmail&quot;</span><span class="token operator">:</span> <span class="token string">&quot;you@domain.com&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/task_view_doc/guide/build-from-source.html" class="prev">
        Build
      </a></span> <span class="next"><a href="/task_view_doc/guide/admins.html">
        Administrators
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/task_view_doc/assets/js/app.6d2b6f44.js" defer></script><script src="/task_view_doc/assets/js/2.e3978535.js" defer></script><script src="/task_view_doc/assets/js/20.ba0e8359.js" defer></script>
  </body>
</html>
